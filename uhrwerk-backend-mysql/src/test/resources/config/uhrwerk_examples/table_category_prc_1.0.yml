area: "processing"
vertical: "yelp_db"
table: "table_category_prc"
version: "1.0"
partition_columns:
  - partition_column1
  - partition_column1
variables:
  - table_variable1
  - table_variable2

parallelism: 1   # Batches at the same time / 0 & 1 means single run at a time
max_bulk_size: 1
dependencies:
  - ref: "staging.yelp_db.table_category:1.0"
    format: "jdbc"
    view: "category_view"
    partition:
      - column: "partition_column1"
        value: "$table_variable1$"
      - column: "partition_column2"
        value: "$table_variable2$"

targets:
  - connection_name: "local_fs_lake"
    format: "parquet"

  - connection_name: "redshift1"
    format: "redshift"
    table_name: "myschema.dummy_table"